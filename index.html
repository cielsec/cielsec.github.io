<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CielSec • Portfolio Neon (Optimized)</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg0:#05030a; --bg2:#120a25;
      --txt:#eae6ff; --mut:#b8aefc; --mut2:#9186f0;

      --p1:#a855f7; --p2:#7c3aed; --p3:#c084fc; --c1:#00e5ff; --warn:#ff4fd8;

      --glass: rgba(255,255,255,.06);
      --line: rgba(168,85,247,.22);
      --shadow: 0 18px 55px rgba(0,0,0,.55);

      --r: 18px; --r2: 26px;
      --ease: cubic-bezier(.2,.9,.2,1);
      --ease2: cubic-bezier(.16,1,.3,1);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin:0;
      font-family: "Space Grotesk", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--txt);
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(168,85,247,.22), transparent 55%),
        radial-gradient(900px 500px at 80% 20%, rgba(0,229,255,.10), transparent 55%),
        radial-gradient(900px 700px at 70% 85%, rgba(255,79,216,.10), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg2));
      overflow-x:hidden;
      cursor:none;
    }

    /* FX leve (sem blur pesado) */
    .fx{
      position: fixed;
      inset: 0;
      pointer-events:none;
      z-index: 0;
      opacity: .85;
      will-change: transform;
    }
    .fx::before{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(to bottom, rgba(255,255,255,.02) 1px, transparent 1px);
      background-size: 100% 6px; /* menos linhas = mais leve */
      opacity: .18;
      animation: scan 10s linear infinite;
      transform: translateZ(0);
    }
    .fx::after{
      content:"";
      position:absolute; inset:-2px;
      background:
        linear-gradient(90deg, rgba(168,85,247,.10) 1px, transparent 1px),
        linear-gradient(0deg, rgba(0,229,255,.06) 1px, transparent 1px);
      background-size: 84px 84px;
      opacity:.45;
      mask-image: radial-gradient(ellipse at 50% 35%, #000 25%, transparent 70%);
      transform: translateZ(0);
    }
    @keyframes scan{
      0%{ transform: translateY(-8%); }
      100%{ transform: translateY(8%); }
    }

    /* Cursor custom (otimizado: update via rAF no JS) */
    .cursor-dot, .cursor-ring{
      position: fixed; top:0; left:0;
      pointer-events:none;
      z-index: 9999;
      transform: translate(-50%, -50%);
      will-change: transform;
      mix-blend-mode: screen;
    }
    .cursor-dot{
      width: 7px; height: 7px; border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, #fff, var(--p3));
      box-shadow: 0 0 14px rgba(192,132,252,.65);
    }
    .cursor-ring{
      width: 38px; height: 38px; border-radius: 999px;
      border: 1px solid rgba(192,132,252,.50);
      box-shadow: 0 0 18px rgba(168,85,247,.22);
      /* backdrop-filter removido (era pesado) */
      transition: width .20s var(--ease), height .20s var(--ease), border-color .20s var(--ease), box-shadow .20s var(--ease);
    }
    .cursor-ring.is-hover{
      width: 58px; height: 58px;
      border-color: rgba(0,229,255,.55);
      box-shadow: 0 0 22px rgba(0,229,255,.18), 0 0 26px rgba(168,85,247,.22);
    }
    .cursor-ring.is-down{
      width: 32px; height: 32px;
      border-color: rgba(255,79,216,.65);
      box-shadow: 0 0 22px rgba(255,79,216,.16), 0 0 22px rgba(168,85,247,.20);
    }

    .wrap{ position: relative; z-index: 1; min-height: 100%; display:flex; flex-direction: column; }

    header{
      position: sticky; top: 0; z-index: 10;
      background: linear-gradient(180deg, rgba(5,3,10,.85), rgba(5,3,10,.30));
      border-bottom: 1px solid rgba(168,85,247,.16);
      /* backdrop-filter removido pra aliviar */
    }
    .nav{
      max-width: 1100px; margin: 0 auto; padding: 14px 18px;
      display:flex; align-items:center; justify-content: space-between; gap: 14px;
    }
    .brand{ display:flex; align-items:center; gap: 12px; user-select:none; }
    .logo{
      width: 42px; height: 42px; border-radius: 14px;
      background: linear-gradient(135deg, rgba(168,85,247,.95), rgba(124,58,237,.75));
      box-shadow: 0 0 18px rgba(168,85,247,.30), var(--shadow);
      position: relative; overflow:hidden;
    }
    .logo::after{
      content:""; position:absolute; inset:-40%;
      background: linear-gradient(90deg, transparent, rgba(0,229,255,.28), transparent);
      transform: rotate(20deg);
      animation: shimmer 4.8s var(--ease) infinite;
    }
    @keyframes shimmer{
      0%{ transform: translateX(-40%) rotate(20deg); opacity:0; }
      25%{ opacity:.55; }
      100%{ transform: translateX(40%) rotate(20deg); opacity:0; }
    }

    .brand h1{ margin:0; font-size: 14px; letter-spacing: .22em; text-transform: uppercase; }
    .brand .sub{ display:block; font-size: 12px; color: var(--mut2); letter-spacing: .08em; margin-top: 2px; }

    .links{ display:flex; align-items:center; gap: 10px; flex-wrap: wrap; justify-content: flex-end; }
    .chip{
      padding: 9px 12px; border-radius: 999px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(168,85,247,.16);
      color: var(--mut);
      font-size: 12px; letter-spacing:.06em;
      text-decoration:none;
      transition: transform .20s var(--ease), border-color .20s var(--ease), background .20s var(--ease);
      will-change: transform;
    }
    .chip:hover{ transform: translateY(-1px); border-color: rgba(0,229,255,.28); background: rgba(255,255,255,.08); }

    main{
      flex:1;
      max-width: 1100px; width: 100%;
      margin: 0 auto;
      padding: 42px 18px 70px;
    }

    .hero{
      position: relative;
      border-radius: var(--r2);
      background:
        radial-gradient(900px 300px at 20% 10%, rgba(168,85,247,.20), transparent 60%),
        radial-gradient(800px 260px at 80% 20%, rgba(0,229,255,.10), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border: 1px solid rgba(168,85,247,.18);
      box-shadow: var(--shadow);
      overflow:hidden;
      padding: 34px 24px;
      will-change: transform;
      transform: translateZ(0);
    }

    .hero-grid{
      position: relative;
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap: 22px;
      align-items: center;
      z-index: 1;
    }
    @media (max-width: 900px){
      .hero-grid{ grid-template-columns: 1fr; }
      body{ cursor:auto; }
      .cursor-dot, .cursor-ring{ display:none; }
    }

    .tag{
      display:inline-flex; align-items:center; gap: 10px;
      padding: 10px 12px; border-radius: 999px;
      border: 1px solid rgba(0,229,255,.16);
      background: rgba(0,229,255,.06);
      color: var(--mut);
      font-size: 12px; letter-spacing:.12em; text-transform: uppercase;
      width: fit-content;
    }
    .tag i{
      width: 10px; height: 10px; border-radius: 999px;
      background: linear-gradient(135deg, var(--p3), var(--c1));
      box-shadow: 0 0 12px rgba(0,229,255,.20);
    }

    .title{
      margin: 14px 0 10px;
      font-size: clamp(28px, 4vw, 46px);
      line-height: 1.05;
      letter-spacing: .02em;
      text-transform: uppercase;
    }
    .title .glow{
      color: transparent;
      background: linear-gradient(90deg, #fff, var(--p3), var(--p1));
      -webkit-background-clip: text;
      background-clip: text;
    }

    .lead{
      margin: 0 0 18px;
      color: rgba(234,230,255,.85);
      font-size: 15.5px;
      line-height: 1.6;
      max-width: 60ch;
    }
    .lead b{ color:#fff; font-weight:700; }

    .hero-actions{ display:flex; gap: 12px; flex-wrap: wrap; margin-top: 12px; }
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap: 10px;
      padding: 12px 14px; border-radius: 14px;
      border: 1px solid rgba(168,85,247,.18);
      background: rgba(255,255,255,.06);
      color: var(--txt);
      text-decoration:none;
      font-weight: 700;
      letter-spacing:.08em;
      text-transform: uppercase;
      font-size: 12px;
      transition: transform .20s var(--ease), border-color .20s var(--ease), box-shadow .20s var(--ease), background .20s var(--ease);
      will-change: transform;
    }
    .btn:hover{ transform: translateY(-1px); border-color: rgba(0,229,255,.26); box-shadow: 0 0 18px rgba(168,85,247,.16); background: rgba(255,255,255,.08); }
    .btn.primary{
      border-color: rgba(168,85,247,.28);
      background: linear-gradient(135deg, rgba(168,85,247,.18), rgba(124,58,237,.08));
      box-shadow: 0 0 16px rgba(168,85,247,.16);
    }

    .panel{
      border-radius: var(--r);
      background: rgba(10,6,18,.55);
      border: 1px solid rgba(168,85,247,.16);
      box-shadow: 0 10px 34px rgba(0,0,0,.45);
      overflow:hidden;
    }
    .panel-top{
      display:flex; align-items:center; justify-content: space-between;
      padding: 12px 14px;
      border-bottom: 1px solid rgba(168,85,247,.12);
      background: rgba(255,255,255,.04);
    }
    .dots{ display:flex; gap: 8px; }
    .dots span{
      width: 10px; height: 10px; border-radius: 999px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.10);
    }
    .dots span:nth-child(1){ background: rgba(255,79,216,.30); border-color: rgba(255,79,216,.30); }
    .dots span:nth-child(2){ background: rgba(0,229,255,.22); border-color: rgba(0,229,255,.22); }
    .dots span:nth-child(3){ background: rgba(168,85,247,.30); border-color: rgba(168,85,247,.30); }

    .panel-title{
      font-family: "JetBrains Mono", ui-monospace, monospace;
      font-size: 12px;
      color: rgba(234,230,255,.75);
      letter-spacing:.08em;
    }
    .code{
      margin:0;
      padding: 16px 14px 18px;
      font-family: "JetBrains Mono", ui-monospace, monospace;
      font-size: 12.5px;
      line-height: 1.6;
      color: rgba(234,230,255,.86);
      overflow:auto;
      max-height: 260px;
    }

    .section{ margin-top: 26px; padding-top: 22px; }
    .section-head{ display:flex; align-items:flex-end; justify-content: space-between; gap: 14px; margin-bottom: 14px; }
    .section h2{ margin:0; font-size: 16px; letter-spacing: .22em; text-transform: uppercase; color: rgba(234,230,255,.9); }
    .section p{ margin: 6px 0 0; color: rgba(234,230,255,.72); font-size: 13.5px; line-height: 1.55; }

    .grid{ display:grid; grid-template-columns: repeat(12, 1fr); gap: 14px; }

    .card{
      grid-column: span 4;
      border-radius: var(--r);
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(168,85,247,.16);
      box-shadow: 0 16px 38px rgba(0,0,0,.45);
      overflow:hidden;
      transition: transform .25s var(--ease2), border-color .25s var(--ease2), box-shadow .25s var(--ease2);
      will-change: transform;
      transform: translateZ(0);
    }
    .card:hover{
      transform: translateY(-3px);
      border-color: rgba(0,229,255,.24);
      box-shadow: 0 22px 55px rgba(0,0,0,.60);
    }
    @media (max-width: 980px){ .card{ grid-column: span 6; } }
    @media (max-width: 620px){ .card{ grid-column: span 12; } }

    .card-top{ padding: 14px 14px 10px; display:flex; align-items:flex-start; justify-content: space-between; gap: 12px; }
    .badge{
      font-size: 11px;
      letter-spacing:.14em;
      text-transform: uppercase;
      color: rgba(234,230,255,.75);
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(168,85,247,.16);
      background: rgba(168,85,247,.08);
      white-space: nowrap;
    }
    .card h3{ margin: 0; font-size: 15px; letter-spacing: .06em; text-transform: uppercase; }
    .card p{ margin: 8px 0 0; color: rgba(234,230,255,.72); font-size: 13px; line-height: 1.55; }
    .card-body{ padding: 0 14px 14px; }
    .meta{ display:flex; gap: 10px; flex-wrap: wrap; margin-top: 10px; }
    .pill{
      font-family: "JetBrains Mono", ui-monospace, monospace;
      font-size: 11px; letter-spacing: .06em;
      color: rgba(234,230,255,.78);
      padding: 6px 8px; border-radius: 999px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
    }

    .card-actions{ display:flex; gap: 10px; margin-top: 12px; flex-wrap: wrap; }
    .mini{
      padding: 10px 12px; border-radius: 12px;
      border: 1px solid rgba(168,85,247,.16);
      background: rgba(255,255,255,.06);
      color: rgba(234,230,255,.9);
      text-decoration:none;
      font-weight: 700;
      letter-spacing:.10em;
      text-transform: uppercase;
      font-size: 11px;
      transition: transform .20s var(--ease), border-color .20s var(--ease);
      will-change: transform;
    }
    .mini:hover{ transform: translateY(-1px); border-color: rgba(0,229,255,.24); }

    footer{
      border-top: 1px solid rgba(168,85,247,.12);
      background: rgba(5,3,10,.55);
    }
    .foot{
      max-width: 1100px; margin: 0 auto; padding: 18px;
      display:flex; justify-content: space-between; flex-wrap: wrap; gap: 10px;
      color: rgba(234,230,255,.65);
      font-size: 12px; letter-spacing:.08em;
    }
    .foot a{ color: rgba(192,132,252,.9); text-decoration:none; border-bottom: 1px dashed rgba(192,132,252,.35); }

    .reveal{
      opacity: 0;
      transform: translateY(12px);
      transition: opacity .55s var(--ease2), transform .55s var(--ease2);
    }
    .reveal.in{ opacity: 1; transform: translateY(0); }

    @media (prefers-reduced-motion: reduce){
      *{ animation: none !important; transition: none !important; scroll-behavior: auto !important; }
      body{ cursor:auto; }
      .cursor-dot, .cursor-ring{ display:none; }
    }
  </style>
</head>

<body>
  <div class="fx"></div>

  <div class="cursor-ring" aria-hidden="true"></div>
  <div class="cursor-dot" aria-hidden="true"></div>

  <div class="wrap">
    <header>
      <div class="nav">
        <div class="brand">
          <div class="logo"></div>
          <div>
            <h1>CIELSEC</h1>
            <span class="sub">Purple Neon • Projetos • Labs</span>
          </div>
        </div>

        <nav class="links">
          <a class="chip hoverable" href="#projetos">Projetos</a>
          <a class="chip hoverable" href="#codigo">Código</a>
          <a class="chip hoverable" href="#contato">Contato</a>
        </nav>
      </div>
    </header>

    <main>
      <section class="hero reveal" id="topo">
        <div class="hero-grid">
          <div>
            <div class="tag"><i></i> neon roxo • animado • otimizado</div>
            <h2 class="title"><span class="glow">ARCHON</span> INSPIRED UI</h2>
            <p class="lead">
              Layout roxo neon com cursor custom e animações suaves, mas sem derreter teu FPS.
            </p>

            <div class="hero-actions">
              <a class="btn primary hoverable" href="#projetos">Entrar</a>
              <a class="btn hoverable" href="#codigo">Ver código</a>
              <a class="btn hoverable" href="#" onclick="toggleFx(event)">FX Scanlines ON/OFF</a>
            </div>
          </div>

          <aside class="panel reveal" id="codigo">
            <div class="panel-top">
              <div class="dots" aria-hidden="true"><span></span><span></span><span></span></div>
              <div class="panel-title">/projects/preview.py</div>
            </div>
            <pre class="code"># Preview rápido: estrutura de projeto
class Project:
  def __init__(self, name, stack):
    self.name = name
    self.stack = stack

projects = [
  Project("SQLmap GUI", "PyQt • SQLmap • Logs"),
  Project("Recon Toolkit", "nmap • ffuf • nuclei"),
  Project("C2 Lab", "Labs • Simulação")
]

print("Loaded:", len(projects))</pre>
          </aside>
        </div>
      </section>

      <section class="section reveal" id="projetos">
        <div class="section-head">
          <div>
            <h2>Projetos</h2>
            <p>Cards com hover leve (sem blur pesado).</p>
          </div>
          <a class="chip hoverable" href="#contato">↳ contato</a>
        </div>

        <div class="grid">
          <article class="card reveal">
            <div class="card-top">
              <div>
                <h3>SQLmap GUI (Neon)</h3>
                <p>Painel inspirado em Havij, rodando SQLmap por trás, com logs em tempo real e análise.</p>
              </div>
              <div class="badge">PyQt • UI</div>
            </div>
            <div class="card-body">
              <div class="meta">
                <span class="pill">stdout/stderr</span>
                <span class="pill">profiles</span>
                <span class="pill">export</span>
              </div>
              <div class="card-actions">
                <a class="mini hoverable" href="#" data-open="p1">Detalhes</a>
                <a class="mini hoverable" href="#codigo">Snippet</a>
              </div>
            </div>
          </article>

          <article class="card reveal">
            <div class="card-top">
              <div>
                <h3>Recon Runner</h3>
                <p>Pipeline de recon (scan → fuzz → nuclei) com templates e rate-limit.</p>
              </div>
              <div class="badge">Bash</div>
            </div>
            <div class="card-body">
              <div class="meta">
                <span class="pill">rate-limit</span>
                <span class="pill">resolvers</span>
                <span class="pill">snapshots</span>
              </div>
              <div class="card-actions">
                <a class="mini hoverable" href="#" data-open="p2">Detalhes</a>
                <a class="mini hoverable" href="#codigo">Snippet</a>
              </div>
            </div>
          </article>

          <article class="card reveal">
            <div class="card-top">
              <div>
                <h3>Web Lab</h3>
                <p>Ambiente local com alvos e telemetria pra replay de requests.</p>
              </div>
              <div class="badge">Docker</div>
            </div>
            <div class="card-body">
              <div class="meta">
                <span class="pill">compose</span>
                <span class="pill">proxy</span>
                <span class="pill">pcap</span>
              </div>
              <div class="card-actions">
                <a class="mini hoverable" href="#" data-open="p3">Detalhes</a>
                <a class="mini hoverable" href="#codigo">Snippet</a>
              </div>
            </div>
          </article>
        </div>
      </section>

      <section class="section reveal" id="contato">
        <div class="section-head">
          <div>
            <h2>Contato</h2>
            <p>Edite os links e fechou.</p>
          </div>
        </div>

        <div class="grid">
          <div class="card reveal" style="grid-column: span 12;">
            <div class="card-top">
              <div>
                <h3>Links</h3>
                <p>GitHub / Discord / Email</p>
              </div>
              <div class="badge">perfil</div>
            </div>
            <div class="card-body" style="display:flex;gap:12px;flex-wrap:wrap;">
              <a class="btn hoverable" href="https://github.com/" target="_blank" rel="noreferrer">GitHub</a>
              <a class="btn hoverable" href="#" onclick="copyText(event,'discord: cielsec')">Discord</a>
              <a class="btn hoverable" href="mailto:seuemail@exemplo.com">Email</a>
              <a class="btn primary hoverable" href="#topo">Topo</a>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <div class="foot">
        <span>© <span id="year"></span> CielSec • Neon Roxo</span>
        <span>feito com glow controlado</span>
      </div>
    </footer>
  </div>

  <!-- Modal (leve) -->
  <div id="modal" style="position:fixed;inset:0;display:none;z-index:50;">
    <div id="modalBackdrop" style="position:absolute;inset:0;background:rgba(0,0,0,.65);"></div>

    <div id="modalBox" class="panel" style="
      position:relative;
      width:min(860px,92vw);
      margin: 8vh auto;
      border-radius: 22px;
      overflow:hidden;
      transform: translateY(10px) scale(.99);
      opacity:0;
      transition: transform .28s var(--ease2), opacity .28s var(--ease2);
    ">
      <div class="panel-top" style="display:flex;align-items:center;justify-content:space-between;">
        <div class="dots" aria-hidden="true"><span></span><span></span><span></span></div>
        <div class="panel-title" id="modalTitle">/details</div>
        <a class="chip hoverable" href="#" id="modalClose" style="margin-left:auto;">fechar</a>
      </div>
      <div style="padding: 16px 16px 18px;">
        <p id="modalDesc" style="margin:0 0 10px;color:rgba(234,230,255,.78);line-height:1.6;"></p>
        <pre class="code" id="modalCode" style="max-height: 320px; border-radius: 16px; border:1px solid rgba(168,85,247,.16); background: rgba(0,0,0,.18);"></pre>

        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top: 12px;">
          <a class="btn primary hoverable" href="#codigo" onclick="closeModal()">Ir pro painel</a>
          <a class="btn hoverable" href="#" onclick="copyModalCode(event)">Copiar snippet</a>
        </div>
      </div>
    </div>
  </div>

  <script>
    const $ = (q, el=document) => el.querySelector(q);
    const $$ = (q, el=document) => [...el.querySelectorAll(q)];

    $("#year").textContent = new Date().getFullYear();

    // Reveal (barato)
    const io = new IntersectionObserver((entries)=>{
      for(const e of entries){
        if(e.isIntersecting){
          e.target.classList.add("in");
          io.unobserve(e.target);
        }
      }
    }, { threshold: 0.12 });
    $$(".reveal").forEach(el => io.observe(el));

    // Cursor + hover (rAF throttling)
    const dot = $(".cursor-dot");
    const ring = $(".cursor-ring");

    let mx = innerWidth/2, my = innerHeight/2;
    let rx = mx, ry = my;
    let rafId = null;

    function renderCursor(){
      rafId = null;
      // dot snap (ok)
      dot.style.transform = `translate(${mx}px, ${my}px) translate(-50%, -50%)`;
      // ring lerp
      rx += (mx - rx) * 0.18;
      ry += (my - ry) * 0.18;
      ring.style.transform = `translate(${rx}px, ${ry}px) translate(-50%, -50%)`;
      // keep animating while moving
      requestAnimationFrame(loopRing);
    }

    function loopRing(){
      // ring continues smoothing even if mouse stops for a bit
      rx += (mx - rx) * 0.12;
      ry += (my - ry) * 0.12;
      ring.style.transform = `translate(${rx}px, ${ry}px) translate(-50%, -50%)`;
      // stop when close enough
      if(Math.abs(mx - rx) + Math.abs(my - ry) > 0.6) requestAnimationFrame(loopRing);
    }

    window.addEventListener("mousemove", (e)=>{
      mx = e.clientX; my = e.clientY;
      if(!rafId) rafId = requestAnimationFrame(renderCursor);
    }, { passive:true });

    function setHover(state){ ring.classList.toggle("is-hover", state); }
    function setDown(state){ ring.classList.toggle("is-down", state); }

    document.addEventListener("mouseover", (e)=>{
      if(e.target.closest(".hoverable, a, button, .btn, .chip, .mini")) setHover(true);
    }, { passive:true });

    document.addEventListener("mouseout", (e)=>{
      if(!e.relatedTarget || !e.relatedTarget.closest?.(".hoverable, a, button, .btn, .chip, .mini")) setHover(false);
    }, { passive:true });

    document.addEventListener("mousedown", ()=>setDown(true), { passive:true });
    document.addEventListener("mouseup", ()=>setDown(false), { passive:true });

    // Parallax: desativado por padrão (era o maior "mata-FPS").
    // Se quiser reativar, troque enableParallax = true;
    let enableParallax = false;
    const hero = document.querySelector(".hero");
    let parRaf = null;
    let px = 0, py = 0;

    function parallaxTick(){
      parRaf = null;
      hero.style.transform = `perspective(900px) rotateY(${px*1.6}deg) rotateX(${py*-1.4}deg) translateZ(0)`;
    }

    if(hero && enableParallax){
      window.addEventListener("mousemove", (e)=>{
        const r = hero.getBoundingClientRect();
        const x = (e.clientX - (r.left + r.width/2)) / r.width;
        const y = (e.clientY - (r.top + r.height/2)) / r.height;
        px = x; py = y;
        if(!parRaf) parRaf = requestAnimationFrame(parallaxTick);
      }, { passive:true });

      window.addEventListener("mouseleave", ()=>{ hero.style.transform = ""; }, { passive:true });
    }

    // Modal (simples)
    const modal = $("#modal");
    const box = $("#modalBox");
    const b = $("#modalBackdrop");
    const closeBtn = $("#modalClose");
    const t = $("#modalTitle");
    const d = $("#modalDesc");
    const c = $("#modalCode");

    let currentCode = "";

    const projects = {
      p1: { title:"/projects/sqlmap_gui.py", desc:"GUI PyQt com stream de stdout/stderr (snippet).",
        code:`import subprocess, threading

def run(cmd, on_line):
  p = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.STDOUT, text=True, bufsize=1)
  for line in p.stdout: on_line(line.rstrip())
  return p.wait()

def start_scan(url, log):
  cmd = ["sqlmap","-u",url,"--batch","--threads=5","--risk=3","--level=5"]
  threading.Thread(target=run, args=(cmd, log), daemon=True).start()
` },
      p2: { title:"/tools/recon_runner.sh", desc:"Pipeline recon (exemplo).",
        code:`#!/usr/bin/env bash
set -euo pipefail
DOMAIN="$1"
OUT="out/$DOMAIN"; mkdir -p "$OUT"
subfinder -d "$DOMAIN" -silent | tee "$OUT/subs.txt"
httpx -l "$OUT/subs.txt" -silent -o "$OUT/alive.txt"
nuclei -l "$OUT/alive.txt" -severity medium,high,critical -o "$OUT/nuclei.txt"
` },
      p3: { title:"/labs/docker-compose.yml", desc:"Lab local (esqueleto).",
        code:`version: "3.9"
services:
  target:
    image: vulnerables/web-dvwa
    ports: ["8080:80"]
` }
    };

    function openModal(id){
      const p = projects[id];
      if(!p) return;
      t.textContent = p.title;
      d.textContent = p.desc;
      currentCode = p.code;
      c.textContent = currentCode;

      modal.style.display = "block";
      requestAnimationFrame(()=>{
        box.style.opacity = "1";
        box.style.transform = "translateY(0) scale(1)";
      });
      document.body.style.overflow = "hidden";
    }

    function closeModal(){
      box.style.opacity = "0";
      box.style.transform = "translateY(10px) scale(.99)";
      setTimeout(()=>{
        modal.style.display = "none";
        document.body.style.overflow = "";
      }, 180);
    }

    function copyModalCode(ev){
      ev.preventDefault();
      if(!currentCode) return;
      navigator.clipboard.writeText(currentCode).then(()=>flash("Snippet copiado."))
        .catch(()=>flash("Falha ao copiar."));
    }
    window.copyModalCode = copyModalCode;
    window.closeModal = closeModal;

    $$(".mini[data-open]").forEach(a=>{
      a.addEventListener("click", (e)=>{ e.preventDefault(); openModal(a.dataset.open); });
    });

    b.addEventListener("click", closeModal);
    closeBtn.addEventListener("click", (e)=>{ e.preventDefault(); closeModal(); });

    document.addEventListener("keydown", (e)=>{
      if(e.key === "Escape" && modal.style.display === "block") closeModal();
    });

    // Toast leve
    let toastTimer = null;
    function flash(msg){
      let el = document.getElementById("toast");
      if(!el){
        el = document.createElement("div");
        el.id = "toast";
        el.style.cssText = `
          position: fixed; left: 50%; bottom: 22px; transform: translateX(-50%);
          padding: 10px 12px; border-radius: 999px;
          background: rgba(255,255,255,.08);
          border: 1px solid rgba(168,85,247,.18);
          color: rgba(234,230,255,.92);
          font-size: 12px; letter-spacing: .10em; text-transform: uppercase;
          box-shadow: 0 18px 40px rgba(0,0,0,.55);
          z-index: 9998;
          opacity: 0; transition: opacity .18s var(--ease), transform .18s var(--ease);
        `;
        document.body.appendChild(el);
      }
      el.textContent = msg;
      el.style.opacity = "1";
      el.style.transform = "translateX(-50%) translateY(-2px)";
      clearTimeout(toastTimer);
      toastTimer = setTimeout(()=>{
        el.style.opacity = "0";
        el.style.transform = "translateX(-50%) translateY(8px)";
      }, 1100);
    }

    function copyText(ev, text){
      ev.preventDefault();
      navigator.clipboard.writeText(text).then(()=>flash("Copiado.")).catch(()=>flash("Falha ao copiar."));
    }
    window.copyText = copyText;

    // FX toggle
    const fx = document.querySelector(".fx");
    function toggleFx(ev){
      ev.preventDefault();
      fx.style.display = (fx.style.display === "none") ? "block" : "none";
      flash(fx.style.display === "none" ? "FX OFF" : "FX ON");
    }
    window.toggleFx = toggleFx;

    // Pause animations when tab not visible (free FPS)
    document.addEventListener("visibilitychange", ()=>{
      if(document.hidden){
        fx.style.animationPlayState = "paused";
        document.documentElement.style.scrollBehavior = "auto";
      }else{
        fx.style.animationPlayState = "running";
      }
    });
  </script>
</body>
</html>
